{% include '_header.twig' %}

	<div style="">
		{% if record is defined %}
			{% set home = record %}

			<div style="margin-left: 30px;">
				{% if home.title is defined and home.title is not empty %}
				    <h1 style="color: white; text-align: left;">{{ home.title }}</h1>
				{% endif %}
				<div style="padding-left: 30px;">
					{% if home.teaser is defined and home.teaser is not empty %}
	    			    <h3 style="color: white; text-align: left;">{{ home.teaser }}</h3>
	    			{% endif %}
				</div>

				{% set blogname = "" %}
				{% if app.request.get('hostOrUrl') is not empty %}
					{% set blogname = app.request.get('hostOrUrl') %}
				{% endif %}

				<form>
					Tumblr blog name (or url):
					<input type="text" name="hostOrUrl" style="wdith: 40%;" {% if blogname != "" %}value={{blogname}}{% endif %} />
					<input type="submit" value="Update" />
				</form>
				<br />
				<br />

				{% if blogname != "" %}
					{% set data = tumblr_GetPosts(blogname) %}
					{% if data is not empty %}
						{# TODO render posts #}
			
						{{ dump(data) }}
						{{ dump(data['posts']) }}

						{% for post in data['posts'] %}
							{{ dump(post) }}
						{% endfor %}
					
					{% else %}
						Something went wrong. Try checking the inputted tumblr URL.
					{% endif %}	
				{% endif %}

			</div>
		{% endif %}
	</div>

{% include '_footer.twig' %}
